<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11 Data import | Python for Data Science</title>
  <meta name="description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="generator" content="bookdown 0.19.1 and GitBook 2.6.7" />

  <meta property="og:title" content="11 Data import | Python for Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://byuidatascience.github.io/python4ds/" />
  <meta property="og:image" content="https://byuidatascience.github.io/python4ds/cover.png" />
  <meta property="og:description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="github-repo" content="byuidatascience/python4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11 Data import | Python for Data Science" />
  <meta name="twitter:site" content="@byuidss" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="twitter:image" content="https://byuidatascience.github.io/python4ds/cover.png" />

<meta name="author" content="J. Hathaway" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dataframe.html"/>
<link rel="next" href="tidy-data.html"/>
<script src="libs/header-attrs-2.1.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/vega-5.9.0/vega.min.js"></script>
<script src="libs/vega-lite-4.0.2/vega-lite.min.js"></script>
<link href="libs/vega-embed-6.2.0/vega-embed.css" rel="stylesheet" />
<script src="libs/vega-embed-6.2.0/vega-embed.js"></script>
<script src="libs/vegawidget-binding-0.3.1.9003/vegawidget.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132356198-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132356198-3');
</script>



<link rel="apple-touch-icon-precomposed" sizes="57x57" href="icons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="icons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="icons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="icons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="icons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="icons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="icons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="icons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="icons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="icons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="icons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="icons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="icons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="icons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="icons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="icons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="icons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="icons/mstile-310x310.png" />




<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Python for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organised"><i class="fa fa-check"></i><b>1.2</b> How this book is organised</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#big-data"><i class="fa fa-check"></i><b>1.3.1</b> Big data</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#r-julia-and-friends"><i class="fa fa-check"></i><b>1.3.2</b> R, Julia, and friends</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#non-rectangular-data"><i class="fa fa-check"></i><b>1.3.3</b> Non-rectangular data</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#hypothesis-confirmation"><i class="fa fa-check"></i><b>1.3.4</b> Hypothesis confirmation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#python"><i class="fa fa-check"></i><b>1.4.1</b> Python</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#visual-studio-code-vs-code"><i class="fa fa-check"></i><b>1.4.2</b> Visual Studio Code (VS Code)</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#package-management-pip"><i class="fa fa-check"></i><b>1.4.3</b> Package Management (pip)</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction.html"><a href="introduction.html#the-data-science-packages"><i class="fa fa-check"></i><b>1.4.4</b> The Data Science Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#running-python-code"><i class="fa fa-check"></i><b>1.5</b> Running Python code</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#datasets-access"><i class="fa fa-check"></i><b>1.7</b> Datasets access</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.8</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.9</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Explore</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#prerequisites-1"><i class="fa fa-check"></i><b>3.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-visualisation.html"><a href="data-visualisation.html#altair-data-management"><i class="fa fa-check"></i><b>3.1.2</b> Altair data management</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First steps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#the-mpg-data-frame"><i class="fa fa-check"></i><b>3.2.1</b> The <code>mpg</code> data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-an-altair-plot"><i class="fa fa-check"></i><b>3.2.2</b> Creating an Altair plot</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#a-graphing-template"><i class="fa fa-check"></i><b>3.2.3</b> A graphing template</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems-maps"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems (maps)</a></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
<li class="chapter" data-level="3.11" data-path="data-visualisation.html"><a href="data-visualisation.html#altairs-grammar-of-graphics"><i class="fa fa-check"></i><b>3.11</b> Altair’s grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#exercises-4"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="transform.html"><a href="transform.html#prerequisites-2"><i class="fa fa-check"></i><b>5.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="5.1.2" data-path="transform.html"><a href="transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="transform.html"><a href="transform.html#pandas-data-manipulation-basics"><i class="fa fa-check"></i><b>5.1.3</b> pandas data manipulation basics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="transform.html"><a href="transform.html#filter-rows-with-query"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>query()</code></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="transform.html"><a href="transform.html#comparisons"><i class="fa fa-check"></i><b>5.2.1</b> Comparisons</a></li>
<li class="chapter" data-level="5.2.2" data-path="transform.html"><a href="transform.html#logical-operators"><i class="fa fa-check"></i><b>5.2.2</b> Logical operators</a></li>
<li class="chapter" data-level="5.2.3" data-path="transform.html"><a href="transform.html#missing-values"><i class="fa fa-check"></i><b>5.2.3</b> Missing values</a></li>
<li class="chapter" data-level="5.2.4" data-path="transform.html"><a href="transform.html#exercises-5"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="transform.html"><a href="transform.html#arrange-or-sort-rows-with-sort_values"><i class="fa fa-check"></i><b>5.3</b> Arrange or sort rows with <code>sort_values()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="transform.html"><a href="transform.html#exercises-6"><i class="fa fa-check"></i><b>5.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="transform.html"><a href="transform.html#select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>filter()</code> or <code>loc[]</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="transform.html"><a href="transform.html#exercises-7"><i class="fa fa-check"></i><b>5.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="transform.html"><a href="transform.html#add-new-variables-with-assign"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>assign()</code></a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="transform.html"><a href="transform.html#mutate-funs"><i class="fa fa-check"></i><b>5.5.1</b> Useful creation functions</a></li>
<li class="chapter" data-level="5.5.2" data-path="transform.html"><a href="transform.html#exercises-8"><i class="fa fa-check"></i><b>5.5.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="transform.html"><a href="transform.html#grouped-summaries-or-aggregations-with-agg"><i class="fa fa-check"></i><b>5.6</b> Grouped summaries or aggregations with <code>agg()</code></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="transform.html"><a href="transform.html#combining-multiple-operations"><i class="fa fa-check"></i><b>5.6.1</b> Combining multiple operations</a></li>
<li class="chapter" data-level="5.6.2" data-path="transform.html"><a href="transform.html#missing-values-1"><i class="fa fa-check"></i><b>5.6.2</b> Missing values</a></li>
<li class="chapter" data-level="5.6.3" data-path="transform.html"><a href="transform.html#counts"><i class="fa fa-check"></i><b>5.6.3</b> Counts</a></li>
<li class="chapter" data-level="5.6.4" data-path="transform.html"><a href="transform.html#summarise-funs"><i class="fa fa-check"></i><b>5.6.4</b> Useful summary functions</a></li>
<li class="chapter" data-level="5.6.5" data-path="transform.html"><a href="transform.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>5.6.5</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="5.6.6" data-path="transform.html"><a href="transform.html#ungrouping-reseting-the-index"><i class="fa fa-check"></i><b>5.6.6</b> Ungrouping (reseting the index)</a></li>
<li class="chapter" data-level="5.6.7" data-path="transform.html"><a href="transform.html#exercises-9"><i class="fa fa-check"></i><b>5.6.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="transform.html"><a href="transform.html#grouped-transforms-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped transforms (and filters)</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="transform.html"><a href="transform.html#exercises-10"><i class="fa fa-check"></i><b>5.7.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow: scripts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>6.1</b> Running code</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#prerequisites-3"><i class="fa fa-check"></i><b>7.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualising-distributions"><i class="fa fa-check"></i><b>7.3.1</b> Visualising distributions</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#typical-values"><i class="fa fa-check"></i><b>7.3.2</b> Typical values</a></li>
<li class="chapter" data-level="7.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#unusual-values"><i class="fa fa-check"></i><b>7.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="7.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-11"><i class="fa fa-check"></i><b>7.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values-2"><i class="fa fa-check"></i><b>7.4</b> Missing values</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-12"><i class="fa fa-check"></i><b>7.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#cat-cont"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>7.6</b> Patterns and models</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#altair-calls"><i class="fa fa-check"></i><b>7.7</b> Altair calls</a></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>7.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a>
<ul>
<li class="chapter" data-level="8.1" data-path="workflow-projects.html"><a href="workflow-projects.html#what-is-real"><i class="fa fa-check"></i><b>8.1</b> What is real?</a></li>
<li class="chapter" data-level="8.2" data-path="workflow-projects.html"><a href="workflow-projects.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>8.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="8.3" data-path="workflow-projects.html"><a href="workflow-projects.html#paths-and-directories"><i class="fa fa-check"></i><b>8.3</b> Paths and directories</a></li>
<li class="chapter" data-level="8.4" data-path="workflow-projects.html"><a href="workflow-projects.html#vs-code-workspaces"><i class="fa fa-check"></i><b>8.4</b> VS Code workspaces</a></li>
<li class="chapter" data-level="8.5" data-path="workflow-projects.html"><a href="workflow-projects.html#summary"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="dataframe.html"><a href="dataframe.html"><i class="fa fa-check"></i><b>10</b> DataFrame</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframe.html"><a href="dataframe.html#introduction-4"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="dataframe.html"><a href="dataframe.html#prerequisites-4"><i class="fa fa-check"></i><b>10.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dataframe.html"><a href="dataframe.html#creating-tibbles"><i class="fa fa-check"></i><b>10.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="10.3" data-path="dataframe.html"><a href="dataframe.html#printing"><i class="fa fa-check"></i><b>10.3</b> Printing</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="dataframe.html"><a href="dataframe.html#subsetting"><i class="fa fa-check"></i><b>10.3.1</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="dataframe.html"><a href="dataframe.html#exercises-16"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>11</b> Data import</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-import.html"><a href="data-import.html#introduction-5"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="data-import.html"><a href="data-import.html#prerequisites-5"><i class="fa fa-check"></i><b>11.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>11.2</b> Getting started</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="data-import.html"><a href="data-import.html#exercises-17"><i class="fa fa-check"></i><b>11.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>11.3</b> Parsing a vector</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="data-import.html"><a href="data-import.html#numbers"><i class="fa fa-check"></i><b>11.3.1</b> Numbers</a></li>
<li class="chapter" data-level="11.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>11.3.2</b> Strings</a></li>
<li class="chapter" data-level="11.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>11.3.3</b> Category (Factors)</a></li>
<li class="chapter" data-level="11.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>11.3.4</b> Dates and times</a></li>
<li class="chapter" data-level="11.3.5" data-path="data-import.html"><a href="data-import.html#exercises-18"><i class="fa fa-check"></i><b>11.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="data-import.html"><a href="data-import.html#parsing-a-file"><i class="fa fa-check"></i><b>11.4</b> Parsing a file</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="data-import.html"><a href="data-import.html#strategy"><i class="fa fa-check"></i><b>11.4.1</b> Strategy</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="data-import.html"><a href="data-import.html#writing-to-a-file"><i class="fa fa-check"></i><b>11.5</b> Writing to a file</a></li>
<li class="chapter" data-level="11.6" data-path="data-import.html"><a href="data-import.html#other-types-of-data"><i class="fa fa-check"></i><b>11.6</b> Other types of data</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>12</b> Tidy data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="tidy-data.html"><a href="tidy-data.html#introduction-6"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="tidy-data.html"><a href="tidy-data.html#prerequisites-6"><i class="fa fa-check"></i><b>12.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>12.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="tidy-data.html"><a href="tidy-data.html#exercises-19"><i class="fa fa-check"></i><b>12.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="tidy-data.html"><a href="tidy-data.html#pivoting"><i class="fa fa-check"></i><b>12.3</b> Pivoting</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="tidy-data.html"><a href="tidy-data.html#longer-melt"><i class="fa fa-check"></i><b>12.3.1</b> Longer (<code>melt()</code>)</a></li>
<li class="chapter" data-level="12.3.2" data-path="tidy-data.html"><a href="tidy-data.html#wider"><i class="fa fa-check"></i><b>12.3.2</b> Wider</a></li>
<li class="chapter" data-level="12.3.3" data-path="tidy-data.html"><a href="tidy-data.html#exercises-20"><i class="fa fa-check"></i><b>12.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="tidy-data.html"><a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>12.4</b> Separating and uniting</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="tidy-data.html"><a href="tidy-data.html#split-separate"><i class="fa fa-check"></i><b>12.4.1</b> Split (Separate)</a></li>
<li class="chapter" data-level="12.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>12.4.2</b> Unite</a></li>
<li class="chapter" data-level="12.4.3" data-path="tidy-data.html"><a href="tidy-data.html#exercises-21"><i class="fa fa-check"></i><b>12.4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="tidy-data.html"><a href="tidy-data.html#missing-values-3"><i class="fa fa-check"></i><b>12.5</b> Missing values</a></li>
<li class="chapter" data-level="12.6" data-path="tidy-data.html"><a href="tidy-data.html#case-study"><i class="fa fa-check"></i><b>12.6</b> Case Study</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="tidy-data.html"><a href="tidy-data.html#exercises-22"><i class="fa fa-check"></i><b>12.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>12.7</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>13</b> Relational data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="relational-data.html"><a href="relational-data.html#introduction-7"><i class="fa fa-check"></i><b>13.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="relational-data.html"><a href="relational-data.html#prerequisites-7"><i class="fa fa-check"></i><b>13.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>13.2</b> nycflights13</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="relational-data.html"><a href="relational-data.html#exercises-23"><i class="fa fa-check"></i><b>13.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>13.3</b> Keys</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="relational-data.html"><a href="relational-data.html#exercises-24"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>13.4</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="relational-data.html"><a href="relational-data.html#understanding-joins"><i class="fa fa-check"></i><b>13.4.1</b> Understanding joins</a></li>
<li class="chapter" data-level="13.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>13.4.2</b> Inner join</a></li>
<li class="chapter" data-level="13.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>13.4.3</b> Outer joins</a></li>
<li class="chapter" data-level="13.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>13.4.4</b> Duplicate keys</a></li>
<li class="chapter" data-level="13.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>13.4.5</b> Defining the key columns</a></li>
<li class="chapter" data-level="13.4.6" data-path="relational-data.html"><a href="relational-data.html#exercises-25"><i class="fa fa-check"></i><b>13.4.6</b> Exercises</a></li>
<li class="chapter" data-level="13.4.7" data-path="relational-data.html"><a href="relational-data.html#other-implementations"><i class="fa fa-check"></i><b>13.4.7</b> Other implementations</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>13.5</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="relational-data.html"><a href="relational-data.html#exercises-26"><i class="fa fa-check"></i><b>13.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>13.6</b> Join problems</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> Strings</a>
<ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#introduction-8"><i class="fa fa-check"></i><b>14.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="strings.html"><a href="strings.html#prerequisites-8"><i class="fa fa-check"></i><b>14.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#string-basics"><i class="fa fa-check"></i><b>14.2</b> String basics</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="strings.html"><a href="strings.html#string-length"><i class="fa fa-check"></i><b>14.2.1</b> String length</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings.html"><a href="strings.html#combining-strings"><i class="fa fa-check"></i><b>14.2.2</b> Combining strings</a></li>
<li class="chapter" data-level="14.2.3" data-path="strings.html"><a href="strings.html#subsetting-strings"><i class="fa fa-check"></i><b>14.2.3</b> Subsetting strings</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#matching-patterns-with-regular-expressions"><i class="fa fa-check"></i><b>14.3</b> Matching patterns with regular expressions</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>14.3.1</b> Basic matches</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#anchors"><i class="fa fa-check"></i><b>14.3.2</b> Anchors</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>14.3.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>14.3.4</b> Repetition</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>14.3.5</b> Grouping and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>14.4</b> Tools</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>14.4.1</b> Detect matches</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>14.4.2</b> Extract matches</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-import" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Data import</h1>
<div id="introduction-5" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Introduction</h2>
<p>In this chapter, you’ll learn how to read plain-text rectangular files into Python. Here, we’ll only scratch the surface of data import, but many of the principles will translate to other forms of data. We’ll finish with a few pointers to packages that are useful for other types of data.</p>
<div id="prerequisites-5" class="section level3" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> Prerequisites</h3>
<p>In this chapter, you’ll learn how to load flat files in R with the <strong>pandas</strong> package.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb165-1"><a href="data-import.html#cb165-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb165-2"><a href="data-import.html#cb165-2"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb165-3"><a href="data-import.html#cb165-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code></pre></div>
</div>
</div>
<div id="getting-started" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Getting started</h2>
<p>The pandas input/output functions are concerned with turning varied files into pandas data frames for use in Python:</p>
<ul>
<li><p><code>pd.read_csv()</code> reads comma delimited files, <code>pd.read_table()</code> reads general
delimited files with any delimiter.</p></li>
<li><p><code>pd.read_fwf()</code> reads fixed width files. You can specify fields either by their
widths with <code>widths</code> or their position with <code>colspecs</code> arguments.</p></li>
</ul>
<p>These functions all have similar syntax: once you’ve mastered one, you can use the others with ease. For the rest of this chapter we’ll focus on <code>pd.read_csv()</code>. Not only are csv files one of the most common forms of data storage, but once you understand <code>pd.read_csv()</code>, you can easily apply your knowledge to all the other input/output functions in pandas. You can see the full set of functions by <a href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html">reading the pandas documentation</a>.</p>
<p>The first argument to <code>pd.read_csv()</code> is the most important: it’s the path to the file to read.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb166-1"><a href="data-import.html#cb166-1"></a>heights <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/heights.csv&quot;</span>)</span></code></pre></div>
<p>You can also supply an inline csv file with the use of <code>StringIO</code> in the <code>io</code> package. StringIO creates a buffer from a string. This is useful for experimenting with pandas and for creating reproducible examples to share with others:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb167-1"><a href="data-import.html#cb167-1"></a><span class="im">from</span> io <span class="im">import</span> StringIO</span>
<span id="cb167-2"><a href="data-import.html#cb167-2"></a></span>
<span id="cb167-3"><a href="data-import.html#cb167-3"></a>data <span class="op">=</span> StringIO(<span class="st">&quot;&quot;&quot;a,b,c</span></span>
<span id="cb167-4"><a href="data-import.html#cb167-4"></a><span class="st">1,2,3</span></span>
<span id="cb167-5"><a href="data-import.html#cb167-5"></a><span class="st">4,5,6&quot;&quot;&quot;</span>)</span>
<span id="cb167-6"><a href="data-import.html#cb167-6"></a></span>
<span id="cb167-7"><a href="data-import.html#cb167-7"></a>pd.read_csv(data)</span>
<span id="cb167-8"><a href="data-import.html#cb167-8"></a><span class="co">#&gt;    a  b  c</span></span>
<span id="cb167-9"><a href="data-import.html#cb167-9"></a><span class="co">#&gt; 0  1  2  3</span></span>
<span id="cb167-10"><a href="data-import.html#cb167-10"></a><span class="co">#&gt; 1  4  5  6</span></span></code></pre></div>
<p>In both cases <code>pd.read_csv()</code> uses the first line of the data for the column names, which is a very common convention. There are two cases where you might want to tweak this behaviour:</p>
<ol style="list-style-type: decimal">
<li><p>Sometimes there are a few lines of metadata at the top of the file. You can
use <code>skiprows = n</code> to skip the first <code>n</code> lines; or use <code>comment = "#"</code> to drop
all lines that start with (e.g.) <code>#</code>. Both arguments have other methods that
can be used - see <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">the pandas documentation</a>.</p>
<pre class="pandas"><code>
data_metada = StringIO(&quot;&quot;&quot;The first line of metadata
  The second line of metadata
  x,y,z
  1,2,3&quot;&quot;&quot;)

pd.read_csv(data_metada, skiprows = 2)

data_comment = StringIO(&quot;&quot;&quot;# A comment I want to skip
  x,y,z
  1,2,3
&quot;&quot;&quot;)

pd.read_csv(data_comment, comment = &quot;#&quot;)</code></pre></li>
<li><p>The data might not have column names. You can use <code>header = None</code> to
tell <code>read_csv()</code> not to treat the first row as headings, and instead
label them sequentially from <code>1</code> to <code>n</code>:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb169-1"><a href="data-import.html#cb169-1"></a>data_nonames <span class="op">=</span> StringIO(<span class="st">&quot;&quot;&quot;1,2,3</span><span class="ch">\n</span><span class="st">4,5,6&quot;&quot;&quot;</span>)</span>
<span id="cb169-2"><a href="data-import.html#cb169-2"></a>pd.read_csv(data_nonames, header <span class="op">=</span> <span class="va">None</span>)</span>
<span id="cb169-3"><a href="data-import.html#cb169-3"></a><span class="co">#&gt;    0  1  2</span></span>
<span id="cb169-4"><a href="data-import.html#cb169-4"></a><span class="co">#&gt; 0  1  2  3</span></span>
<span id="cb169-5"><a href="data-import.html#cb169-5"></a><span class="co">#&gt; 1  4  5  6</span></span></code></pre></div>
<p>(<code>"\n"</code> is a convenient shortcut for adding a new line. You’ll learn more
about it and other types of string escape in <a href="strings.html#string-basics">string basics</a>.)</p>
<p>Alternatively you can pass <code>names</code> an list of names which will be
used as the column names:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb170-1"><a href="data-import.html#cb170-1"></a>data_nonames <span class="op">=</span> StringIO(<span class="st">&quot;&quot;&quot;1,2,3</span><span class="ch">\n</span><span class="st">4,5,6&quot;&quot;&quot;</span>)</span>
<span id="cb170-2"><a href="data-import.html#cb170-2"></a>pd.read_csv(data_nonames, names <span class="op">=</span> [<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>], header <span class="op">=</span> <span class="va">None</span>)</span>
<span id="cb170-3"><a href="data-import.html#cb170-3"></a><span class="co">#&gt;    x  y  z</span></span>
<span id="cb170-4"><a href="data-import.html#cb170-4"></a><span class="co">#&gt; 0  1  2  3</span></span>
<span id="cb170-5"><a href="data-import.html#cb170-5"></a><span class="co">#&gt; 1  4  5  6</span></span></code></pre></div></li>
</ol>
<p>Another option that commonly needs tweaking is <code>na</code>: this specifies the value (or values) that are used to represent missing values in your file:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb171-1"><a href="data-import.html#cb171-1"></a>data_missing <span class="op">=</span> StringIO(<span class="st">&quot;&quot;&quot;a,b,c</span><span class="ch">\n</span><span class="st">1,2,.&quot;&quot;&quot;</span>)</span>
<span id="cb171-2"><a href="data-import.html#cb171-2"></a>pd.read_csv(data_missing, na_values <span class="op">=</span> <span class="st">&quot;.&quot;</span>)</span>
<span id="cb171-3"><a href="data-import.html#cb171-3"></a><span class="co">#&gt;    a  b   c</span></span>
<span id="cb171-4"><a href="data-import.html#cb171-4"></a><span class="co">#&gt; 0  1  2 NaN</span></span></code></pre></div>
<p>This is all you need to know to read ~75% of CSV files that you’ll encounter in practice. You can also easily adapt what you’ve learned to read fixed width files with <code>pd.read_fwf()</code>. To read in more challenging files, you’ll need to learn more about how pandas parses each column, turning them into <code>DataFrame</code> objects.</p>
<div id="exercises-17" class="section level3" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What function would you use to read a file where fields were separated with<br />
“|”?</p></li>
<li><p>Apart from hte file path, <code>skiprows</code>, and <code>comment</code>, what other arguments does
<code>pd.read_csv()</code> have?</p></li>
<li><p>What are the most important arguments to <code>pd.read_fwf()</code>?</p></li>
<li><p>Sometimes strings in a CSV file contain commas. To prevent them from
causing problems they need to be surrounded by a quoting character, like
<code>"</code> or <code>'</code>. By default, <code>pd.read_csv()</code> assumes that the quoting
character will be <code>"</code>. What argument to <code>pd.read_csv()</code> do you need to specify
to read the following text into a data frame?</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="data-import.html#cb172-1"></a><span class="st">&quot;x,y</span><span class="ch">\n</span><span class="st">1,&#39;a,b&#39;&quot;</span></span></code></pre></div></li>
</ol>
</div>
</div>
<div id="parsing-a-vector" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Parsing a vector</h2>
<p>Before we get into the details of how pandas reads files from disk, we need to take a little detour to talk about the <code>astype()</code> function. This function casts a pandas object to a more specialised data type like a logical or integer. The pandas package has a special <code>.to_datetime()</code> function to convert dates:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb173-1"><a href="data-import.html#cb173-1"></a>pd.Series([<span class="st">&quot;TRUE&quot;</span>, <span class="st">&quot;FALSE&quot;</span>, np.nan]).astype(<span class="st">&#39;bool&#39;</span>)</span>
<span id="cb173-2"><a href="data-import.html#cb173-2"></a><span class="co">#&gt; 0    True</span></span>
<span id="cb173-3"><a href="data-import.html#cb173-3"></a><span class="co">#&gt; 1    True</span></span>
<span id="cb173-4"><a href="data-import.html#cb173-4"></a><span class="co">#&gt; 2    True</span></span>
<span id="cb173-5"><a href="data-import.html#cb173-5"></a><span class="co">#&gt; dtype: bool</span></span>
<span id="cb173-6"><a href="data-import.html#cb173-6"></a>pd.Series([<span class="st">&quot;TRUE&quot;</span>, <span class="st">&quot;FALSE&quot;</span>, <span class="st">&quot;FALSE&quot;</span>]).astype(<span class="st">&#39;bool&#39;</span>)</span>
<span id="cb173-7"><a href="data-import.html#cb173-7"></a><span class="co">#&gt; 0    True</span></span>
<span id="cb173-8"><a href="data-import.html#cb173-8"></a><span class="co">#&gt; 1    True</span></span>
<span id="cb173-9"><a href="data-import.html#cb173-9"></a><span class="co">#&gt; 2    True</span></span>
<span id="cb173-10"><a href="data-import.html#cb173-10"></a><span class="co">#&gt; dtype: bool</span></span>
<span id="cb173-11"><a href="data-import.html#cb173-11"></a>pd.Series([<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>]).astype(<span class="st">&quot;int&quot;</span>)</span>
<span id="cb173-12"><a href="data-import.html#cb173-12"></a><span class="co">#&gt; 0    1</span></span>
<span id="cb173-13"><a href="data-import.html#cb173-13"></a><span class="co">#&gt; 1    2</span></span>
<span id="cb173-14"><a href="data-import.html#cb173-14"></a><span class="co">#&gt; 2    3</span></span>
<span id="cb173-15"><a href="data-import.html#cb173-15"></a><span class="co">#&gt; dtype: int64</span></span>
<span id="cb173-16"><a href="data-import.html#cb173-16"></a>pd.to_datetime(pd.Series([<span class="st">&#39;2010-01-01&#39;</span>, <span class="st">&#39;1970-10-14&#39;</span>]), infer_datetime_format<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb173-17"><a href="data-import.html#cb173-17"></a><span class="co">#&gt; 0   2010-01-01</span></span>
<span id="cb173-18"><a href="data-import.html#cb173-18"></a><span class="co">#&gt; 1   1970-10-14</span></span>
<span id="cb173-19"><a href="data-import.html#cb173-19"></a><span class="co">#&gt; dtype: datetime64[ns]</span></span></code></pre></div>
<p>These functions are useful in their own right, but are also an important building block for pandas. Once you’ve learned how the individual parsers work in this section, we’ll circle back and see how they fit together to parse a complete file in the next section.</p>
<p>Using arsers is mostly a matter of understanding what’s available and how they deal with different types of input. There are eight particularly important <code>dtype</code>s that you can use within <code>astype()</code>:</p>
<ol style="list-style-type: decimal">
<li><p><code>bool</code>, <code>int</code>, and <code>float</code> parse logicals integers, and floating point numbers
respectively. The <code>bool</code> dtype has trouble with <code>nan</code> values and may not
perform as expected.</p></li>
<li><p><code>object</code> handles string and mixed values.</p></li>
<li><p><code>category</code> create factors, the data structure that pandas uses to represent
categorical variables with fixed and known values.</p></li>
<li><p><code>to_datetime()</code> allows you to parse various date &amp; time specifications. These
are the most complicated because there are so many different ways of writing
dates.</p></li>
<li><p><code>to_numeric()</code> allows you to coerce mixed value columns to numeric using
<code>errors = coerce</code></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb174-1"><a href="data-import.html#cb174-1"></a>pd.to_numeric(pd.Series([<span class="st">&quot;bb&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;True&quot;</span>, <span class="st">&quot;9&quot;</span>, np.nan]), errors <span class="op">=</span> <span class="st">&#39;coerce&#39;</span>)</span>
<span id="cb174-2"><a href="data-import.html#cb174-2"></a><span class="co">#&gt; 0    NaN</span></span>
<span id="cb174-3"><a href="data-import.html#cb174-3"></a><span class="co">#&gt; 1    1.0</span></span>
<span id="cb174-4"><a href="data-import.html#cb174-4"></a><span class="co">#&gt; 2    NaN</span></span>
<span id="cb174-5"><a href="data-import.html#cb174-5"></a><span class="co">#&gt; 3    9.0</span></span>
<span id="cb174-6"><a href="data-import.html#cb174-6"></a><span class="co">#&gt; 4    NaN</span></span>
<span id="cb174-7"><a href="data-import.html#cb174-7"></a><span class="co">#&gt; dtype: float64</span></span></code></pre></div></li>
</ol>
<p>The following sections describe these parsers in more detail.</p>
<div id="numbers" class="section level3" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> Numbers</h3>
<p>It seems like it should be straightforward to parse a number, but three problems make it tricky:</p>
<ol style="list-style-type: decimal">
<li><p>People write numbers differently in different parts of the world.
For example, some countries use <code>.</code> in between the integer and fractional
parts of a real number, while others use <code>,</code>.</p></li>
<li><p>Numbers are often surrounded by other characters that provide some
context, like “$1000” or “10%”.</p></li>
<li><p>Numbers often contain “grouping” characters to make them easier to read,
like “1,000,000”, and these grouping characters vary around the world.</p></li>
</ol>
<p>You will need to use regex expressions to remove the unwanted characters before converting the value to a
float.</p>
</div>
<div id="readr-strings" class="section level3" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> Strings</h3>
<p>It seems like strings should be really simple. Unfortunately life isn’t so simple, as there are multiple ways to represent the same string. To understand what’s going on, we need to dive into the details of how computers represent strings. In Python, we can get at the underlying representation of a string using <code>hex()</code> on a binary object:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb175-1"><a href="data-import.html#cb175-1"></a>b<span class="st">&#39;Hathaway&#39;</span>.<span class="bu">hex</span>()</span>
<span id="cb175-2"><a href="data-import.html#cb175-2"></a><span class="co"># and convert it back</span></span>
<span id="cb175-3"><a href="data-import.html#cb175-3"></a><span class="co">#&gt; &#39;4861746861776179&#39;</span></span>
<span id="cb175-4"><a href="data-import.html#cb175-4"></a><span class="bu">bytes</span>.fromhex(<span class="st">&#39;4861746861776179&#39;</span>).decode()</span>
<span id="cb175-5"><a href="data-import.html#cb175-5"></a><span class="co">#&gt; &#39;Hathaway&#39;</span></span></code></pre></div>
<p>Each hexadecimal number represents a byte of information: <code>48</code> is H, <code>61</code> is a, and so on. The mapping from hexadecimal number to character is called the encoding, and in this case the encoding is called ASCII. ASCII does a great job of representing English characters, because it’s the <strong>American</strong> Standard Code for Information Interchange.</p>
<p>Things get more complicated for languages other than English. In the early days of computing there were many competing standards for encoding non-English characters, and to correctly interpret a string you needed to know both the values and the encoding. For example, two common encodings are Latin1 (aka ISO-8859-1, used for Western European languages) and Latin2 (aka ISO-8859-2, used for Eastern European languages). In Latin1, the byte <code>b1</code> is “±”, but in Latin2, it’s “ą”! Fortunately, today there is one standard that is supported almost everywhere: UTF-8. UTF-8 can encode just about every character used by humans today, as well as many extra symbols (like emoji!).</p>
<p>Python often defaults to UTF-8: pandas assumes your data is UTF-8 encoded when you read it, and always uses it when writing. This is a good default, but will fail for data produced by older systems that don’t understand UTF-8. If this happens to you, your strings will look weird when you print them. Sometimes just one or two characters might be messed up; other times you’ll get complete gibberish. For example:</p>
<p>Encodings are a rich and complex topic, and I’ve only scratched the surface here. If you’d like to learn more I’d recommend reading the detailed explanation at <a href="http://kunststube.net/encoding/" class="uri">http://kunststube.net/encoding/</a>.</p>
</div>
<div id="readr-factors" class="section level3" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> Category (Factors)</h3>
<p>Pandas uses category to represent categorical variables that have a known set of possible values. Give <code>pd.Categorical()</code> a Series of known <code>levels</code> to convert other unexpected value that are present to <code>nan</code>:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb176-1"><a href="data-import.html#cb176-1"></a>fruit <span class="op">=</span>  [<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>]</span>
<span id="cb176-2"><a href="data-import.html#cb176-2"></a>pd.Categorical([<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;bananana&quot;</span>], categories <span class="op">=</span> fruit)</span>
<span id="cb176-3"><a href="data-import.html#cb176-3"></a><span class="co">#&gt; [apple, banana, NaN]</span></span>
<span id="cb176-4"><a href="data-import.html#cb176-4"></a><span class="co">#&gt; Categories (2, object): [apple, banana]</span></span></code></pre></div>
<p>But if you have many problematic entries, it’s often easier to leave as character vectors and then use the tools you’ll learn about in <a href="strings.html#strings">strings</a> and [factors] to clean them up.</p>
</div>
<div id="readr-datetimes" class="section level3" number="11.3.4">
<h3><span class="header-section-number">11.3.4</span> Dates and times</h3>
<p>Pandas provides an extensive set of capabilities for working with time using NumPy’s <code>datetime64</code> and <code>timedelta64</code> dtypes. You primarily use <code>pd.to_datetime()</code> whether you want a date or a date and time. When called without any additional arguments:</p>
<ul>
<li><p><code>pd.to_datetime()</code> expects an ISO8601 date-time. ISO8601 is an
international standard in which the components of a date are
organised from biggest to smallest: year, month, day, hour, minute,
second.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb177-1"><a href="data-import.html#cb177-1"></a>pd.to_datetime([<span class="st">&quot;2010-10-01T2010&quot;</span>])</span>
<span id="cb177-2"><a href="data-import.html#cb177-2"></a><span class="co"># If time is omitted, it will be set to midnight and only print date.</span></span>
<span id="cb177-3"><a href="data-import.html#cb177-3"></a><span class="co">#&gt; DatetimeIndex([&#39;2010-10-01 20:10:00&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span>
<span id="cb177-4"><a href="data-import.html#cb177-4"></a>pd.to_datetime([<span class="st">&quot;2010-10-01&quot;</span>])</span>
<span id="cb177-5"><a href="data-import.html#cb177-5"></a><span class="co">#&gt; DatetimeIndex([&#39;2010-10-01&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span></code></pre></div>
<p>This is the most important date/time standard, and if you work with
dates and times frequently, I recommend reading
<a href="https://en.wikipedia.org/wiki/ISO_8601" class="uri">https://en.wikipedia.org/wiki/ISO_8601</a></p></li>
</ul>
<p>If these defaults don’t work for your data you can supply your own date-time <code>format</code>, built up of the following pieces:</p>
<dl>
<dt>Year</dt>
<dd><code>%Y</code> (4 digits).
</dd>
<dd><code>%y</code> (2 digits); 00-69 -&gt; 2000-2069, 70-99 -&gt; 1970-1999.
</dd>
<dt>Month</dt>
<dd><code>%m</code> (2 digits).
</dd>
<dd><code>%b</code> (abbreviated name, like “Jan”).
</dd>
<dd><code>%B</code> (full name, “January”).
</dd>
<dt>Day</dt>
<dd><code>%d</code> (2 digits).
</dd>
<dd><code>%e</code> (optional leading space).
</dd>
<dt>Time</dt>
<dd><code>%H</code> 0-23 hour.
</dd>
<dd><code>%I</code> 0-12, must be used with <code>%p</code>.
</dd>
<dd><code>%p</code> AM/PM indicator.
</dd>
<dd><code>%M</code> minutes.
</dd>
<dd><code>%S</code> integer seconds.
</dd>
<dd><code>%OS</code> real seconds.
</dd>
<dd><code>%Z</code> Time zone (as name, e.g. <code>America/Chicago</code>). Beware of abbreviations:
if you’re American, note that “EST” is a Canadian time zone that does not
have daylight savings time. It is <em>not</em> Eastern Standard Time! We’ll
come back to this in [time zones].
</dd>
<dd><code>%z</code> (as offset from UTC, e.g. <code>+0800</code>).
</dd>
<dt>Non-digits</dt>
<dd><code>%.</code> skips one non-digit character.
</dd>
<dd><code>%*</code> skips any number of non-digits.
</dd>
</dl>
<p>The best way to figure out the correct format is to create a few examples in a character vector, and test with one of the parsing functions. For example:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb178-1"><a href="data-import.html#cb178-1"></a>pd.to_datetime([<span class="st">&quot;01/02/15&quot;</span>], <span class="bu">format</span> <span class="op">=</span> <span class="st">&quot;%m/</span><span class="sc">%d</span><span class="st">/%y&quot;</span>)</span>
<span id="cb178-2"><a href="data-import.html#cb178-2"></a><span class="co">#&gt; DatetimeIndex([&#39;2015-01-02&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span>
<span id="cb178-3"><a href="data-import.html#cb178-3"></a>pd.to_datetime([<span class="st">&quot;01/02/15&quot;</span>], <span class="bu">format</span> <span class="op">=</span> <span class="st">&quot;</span><span class="sc">%d</span><span class="st">/%m/%y&quot;</span>)</span>
<span id="cb178-4"><a href="data-import.html#cb178-4"></a><span class="co">#&gt; DatetimeIndex([&#39;2015-02-01&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span>
<span id="cb178-5"><a href="data-import.html#cb178-5"></a>pd.to_datetime([<span class="st">&quot;01/02/15&quot;</span>], <span class="bu">format</span> <span class="op">=</span> <span class="st">&quot;%y/%m/</span><span class="sc">%d</span><span class="st">&quot;</span>)</span>
<span id="cb178-6"><a href="data-import.html#cb178-6"></a><span class="co">#&gt; DatetimeIndex([&#39;2001-02-15&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span></code></pre></div>
<p>The <code>pd.to_datetime()</code> function has a handy argument <code>infer_datetime_format</code> which can often allow you to avoid entring format strings.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb179-1"><a href="data-import.html#cb179-1"></a>pd.to_datetime([<span class="st">&quot;01/02/15&quot;</span>], infer_datetime_format <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb179-2"><a href="data-import.html#cb179-2"></a><span class="co">#&gt; DatetimeIndex([&#39;2015-01-02&#39;], dtype=&#39;datetime64[ns]&#39;, freq=None)</span></span></code></pre></div>
<!-- https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.month_name.html -->
</div>
<div id="exercises-18" class="section level3" number="11.3.5">
<h3><span class="header-section-number">11.3.5</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>What are the most common encodings used in Europe? What are the
most common encodings used in Asia? Do some googling to find out.</p></li>
<li><p>Generate the correct format string to parse each of the following
dates and times:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb180-1"><a href="data-import.html#cb180-1"></a>d1 <span class="op">=</span> [<span class="st">&quot;January 1, 2010&quot;</span>]</span>
<span id="cb180-2"><a href="data-import.html#cb180-2"></a>d2 <span class="op">=</span> [<span class="st">&quot;2015-Mar-07&quot;</span>]</span>
<span id="cb180-3"><a href="data-import.html#cb180-3"></a>d3 <span class="op">=</span> [<span class="st">&quot;06-Jun-2017&quot;</span>]</span>
<span id="cb180-4"><a href="data-import.html#cb180-4"></a>d4 <span class="op">=</span> [<span class="st">&quot;August 19 (2015)&quot;</span>, <span class="st">&quot;July 1 (2015)&quot;</span>]</span>
<span id="cb180-5"><a href="data-import.html#cb180-5"></a>d5 <span class="op">=</span> [<span class="st">&quot;12/30/14&quot;</span>] <span class="co"># Dec 30, 2014</span></span></code></pre></div></li>
</ol>
</div>
</div>
<div id="parsing-a-file" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Parsing a file</h2>
<p>Now that you’ve learned how to parse an Series, it’s time to return to the beginning and explore how pandas parses a file. There are two new things that you’ll learn about in this section:</p>
<ol style="list-style-type: decimal">
<li>How pandas automatically guesses the type of each column.</li>
<li>How to override the default specification.</li>
</ol>
<div id="strategy" class="section level3" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> Strategy</h3>
<p>Pandas uses a heuristic to figure out the type of each column: at first it tries to
convert all values to an integer. If there is an error then it moves to the next
data type. The last data type is an <code>object</code> which a Series of strings. The heuristic tries each of the following types in the listed order, stopping when it finds a match:</p>
<ol style="list-style-type: decimal">
<li>integer: contains only numeric characters (and <code>-</code>).</li>
<li>float: contains only valid doubles (including numbers like <code>4.5e-5</code>).</li>
<li>bool: contains only “F”, “T”, “FALSE”, “TRUE”, “False” or “True”.</li>
</ol>
<p>In addition, you can use the <code>parse_dates</code> argument to to parse datetime columns
during parsing. See the <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">read_csv documentation</a> for guidance.</p>
<p>If none of these rules apply, then the column will stay as a Series of strings.</p>
<p>When using <code>pd.read_csv()</code>, I highly recommend always supplying <code>dtypes</code>. This
ensures that you have a consistent, reproducible, and fast data import script.
If you rely on the default guesses and your data changes, pandas will continue to
read it in.</p>
<p>If you’re having major parsing problems, sometimes it’s easier to just read into
a character vector of lines with <code>readlines()</code>.Then you can use the string parsing
skills you’ll learn later to parse more exotic formats. You can read more about
<a href="https://docs.python.org/3/tutorial/inputoutput.html">Python’s Input/Output</a> understand <code>readlines()</code>.</p>
</div>
</div>
<div id="writing-to-a-file" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> Writing to a file</h2>
<p>pandas also comes with a useful function for writing data back to disk: <code>to_csv()</code>.
<code>to_csv()</code> increase the chances of the output file being read back in correctly by:</p>
<ul>
<li><p>Always encoding strings in UTF-8.</p></li>
<li><p>Saving dates and date-times in ISO8601 format so they are easily
parsed elsewhere.</p></li>
</ul>
<p>If you want to export a csv file to Excel, use <code>to_excel()</code>.</p>
<p>The most important argument is <code>path</code> (the location to save it). You can also
specify how missing values are written with <code>na_rep</code> and if the index is included
in the export <code>index = False</code>.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="data-import.html#cb181-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;name&#39;</span>: [<span class="st">&#39;Raphael&#39;</span>, <span class="st">&#39;Donatello&#39;</span>],</span>
<span id="cb181-2"><a href="data-import.html#cb181-2"></a>                   <span class="st">&#39;mask&#39;</span>: [<span class="st">&#39;red&#39;</span>, <span class="st">&#39;purple&#39;</span>],</span>
<span id="cb181-3"><a href="data-import.html#cb181-3"></a>                   <span class="st">&#39;weapon&#39;</span>: [<span class="st">&#39;sai&#39;</span>, <span class="st">&#39;bo staff&#39;</span>]})</span>
<span id="cb181-4"><a href="data-import.html#cb181-4"></a>df.to_csv(<span class="st">&quot;my_file.csv&quot;</span>, index<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<p>Note that the type information is lost when you save to csv:</p>
<p>This makes CSVs a little unreliable for caching interim results—you need to recreate the column specification every time you load in. We recommend the feather format:</p>
<ol style="list-style-type: decimal">
<li><p>The feather format implements a fast binary file format that can
be shared across programming languages:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb182-1"><a href="data-import.html#cb182-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;name&#39;</span>: [<span class="st">&#39;Raphael&#39;</span>, <span class="st">&#39;Donatello&#39;</span>],</span>
<span id="cb182-2"><a href="data-import.html#cb182-2"></a>               <span class="st">&#39;mask&#39;</span>: [<span class="st">&#39;red&#39;</span>, <span class="st">&#39;purple&#39;</span>],</span>
<span id="cb182-3"><a href="data-import.html#cb182-3"></a>               <span class="st">&#39;weapon&#39;</span>: [<span class="st">&#39;sai&#39;</span>, <span class="st">&#39;bo staff&#39;</span>]})</span>
<span id="cb182-4"><a href="data-import.html#cb182-4"></a>df.to_feather(<span class="st">&quot;my_file.ftr&quot;</span>)</span></code></pre></div>
<p>There is a feather package in R to share files quickly between the two tools.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="data-import.html#cb183-1"></a><span class="kw">library</span>(feather)</span>
<span id="cb183-2"><a href="data-import.html#cb183-2"></a><span class="kw">write_feather</span>(challenge, <span class="st">&quot;challenge.feather&quot;</span>)</span>
<span id="cb183-3"><a href="data-import.html#cb183-3"></a><span class="kw">read_feather</span>(<span class="st">&quot;challenge.feather&quot;</span>)</span></code></pre></div></li>
</ol>
</div>
<div id="other-types-of-data" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> Other types of data</h2>
<p>To get other types of data into Python, we recommend you review pandas <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">IO tools</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dataframe.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidy-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/byuidatascience/python4ds/edit/master/import.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
