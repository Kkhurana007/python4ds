<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>15 Factors | Python for Data Science</title>
  <meta name="description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="generator" content="bookdown 0.19.1 and GitBook 2.6.7" />

  <meta property="og:title" content="15 Factors | Python for Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://byuidatascience.github.io/python4ds/" />
  <meta property="og:image" content="https://byuidatascience.github.io/python4ds/cover.png" />
  <meta property="og:description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="github-repo" content="byuidatascience/python4ds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="15 Factors | Python for Data Science" />
  <meta name="twitter:site" content="@byuidss" />
  <meta name="twitter:description" content="This book will teach you how to do data science with R Python: You’ll learn how to get your data into Python, get it into the most useful structure, transform it, visualise it and model it. In this book, you will find a practicum of skills for data science. Just as a chemist learns how to clean test tubes and stock a lab, you’ll learn how to clean data and draw plots—and many other things besides. These are the skills that allow data science to happen, and here you will find the best practices for doing each of these things with Python. You’ll learn how to use the grammar of graphics, literate programming, and reproducible research to save time. You’ll also learn how to manage cognitive resources to facilitate discoveries when wrangling, visualising, and exploring data." />
  <meta name="twitter:image" content="https://byuidatascience.github.io/python4ds/cover.png" />

<meta name="author" content="J. Hathaway" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="strings.html"/>
<link rel="next" href="dates-and-times.html"/>
<script src="libs/header-attrs-2.1.4/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/vega-5.9.0/vega.min.js"></script>
<script src="libs/vega-lite-4.0.2/vega-lite.min.js"></script>
<link href="libs/vega-embed-6.2.0/vega-embed.css" rel="stylesheet" />
<script src="libs/vega-embed-6.2.0/vega-embed.js"></script>
<script src="libs/vegawidget-binding-0.3.1.9003/vegawidget.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132356198-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132356198-3');
</script>



<link rel="apple-touch-icon-precomposed" sizes="57x57" href="icons/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="icons/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="icons/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="icons/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="icons/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="icons/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="icons/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="icons/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="icons/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="icons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="icons/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="icons/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="icons/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="&nbsp;"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="icons/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="icons/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="icons/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="icons/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="icons/mstile-310x310.png" />




<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Python for Data Science</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organised"><i class="fa fa-check"></i><b>1.2</b> How this book is organised</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#big-data"><i class="fa fa-check"></i><b>1.3.1</b> Big data</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#r-julia-and-friends"><i class="fa fa-check"></i><b>1.3.2</b> R, Julia, and friends</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#non-rectangular-data"><i class="fa fa-check"></i><b>1.3.3</b> Non-rectangular data</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#hypothesis-confirmation"><i class="fa fa-check"></i><b>1.3.4</b> Hypothesis confirmation</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#python"><i class="fa fa-check"></i><b>1.4.1</b> Python</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#visual-studio-code-vs-code"><i class="fa fa-check"></i><b>1.4.2</b> Visual Studio Code (VS Code)</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#package-management-pip"><i class="fa fa-check"></i><b>1.4.3</b> Package Management (pip)</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction.html"><a href="introduction.html#the-data-science-packages"><i class="fa fa-check"></i><b>1.4.4</b> The Data Science Packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#running-python-code"><i class="fa fa-check"></i><b>1.5</b> Running Python code</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#datasets-access"><i class="fa fa-check"></i><b>1.7</b> Datasets access</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.8</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.9</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Explore</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-visualisation.html"><a href="data-visualisation.html#prerequisites-1"><i class="fa fa-check"></i><b>3.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-visualisation.html"><a href="data-visualisation.html#altair-data-management"><i class="fa fa-check"></i><b>3.1.2</b> Altair data management</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First steps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#the-mpg-data-frame"><i class="fa fa-check"></i><b>3.2.1</b> The <code>mpg</code> data frame</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-an-altair-plot"><i class="fa fa-check"></i><b>3.2.2</b> Creating an Altair plot</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#a-graphing-template"><i class="fa fa-check"></i><b>3.2.3</b> A graphing template</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-1"><i class="fa fa-check"></i><b>3.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-2"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-visualisation.html"><a href="data-visualisation.html#exercises-3"><i class="fa fa-check"></i><b>3.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems-maps"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems (maps)</a></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
<li class="chapter" data-level="3.11" data-path="data-visualisation.html"><a href="data-visualisation.html#altairs-grammar-of-graphics"><i class="fa fa-check"></i><b>3.11</b> Altair’s grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#exercises-4"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="transform.html"><a href="transform.html#prerequisites-2"><i class="fa fa-check"></i><b>5.1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="5.1.2" data-path="transform.html"><a href="transform.html#nycflights13"><i class="fa fa-check"></i><b>5.1.2</b> nycflights13</a></li>
<li class="chapter" data-level="5.1.3" data-path="transform.html"><a href="transform.html#pandas-data-manipulation-basics"><i class="fa fa-check"></i><b>5.1.3</b> pandas data manipulation basics</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="transform.html"><a href="transform.html#filter-rows-with-query"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>query()</code></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="transform.html"><a href="transform.html#comparisons"><i class="fa fa-check"></i><b>5.2.1</b> Comparisons</a></li>
<li class="chapter" data-level="5.2.2" data-path="transform.html"><a href="transform.html#logical-operators"><i class="fa fa-check"></i><b>5.2.2</b> Logical operators</a></li>
<li class="chapter" data-level="5.2.3" data-path="transform.html"><a href="transform.html#missing-values"><i class="fa fa-check"></i><b>5.2.3</b> Missing values</a></li>
<li class="chapter" data-level="5.2.4" data-path="transform.html"><a href="transform.html#exercises-5"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="transform.html"><a href="transform.html#arrange-or-sort-rows-with-sort_values"><i class="fa fa-check"></i><b>5.3</b> Arrange or sort rows with <code>sort_values()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="transform.html"><a href="transform.html#exercises-6"><i class="fa fa-check"></i><b>5.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="transform.html"><a href="transform.html#select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>filter()</code> or <code>loc[]</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="transform.html"><a href="transform.html#exercises-7"><i class="fa fa-check"></i><b>5.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="transform.html"><a href="transform.html#add-new-variables-with-assign"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>assign()</code></a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="transform.html"><a href="transform.html#mutate-funs"><i class="fa fa-check"></i><b>5.5.1</b> Useful creation functions</a></li>
<li class="chapter" data-level="5.5.2" data-path="transform.html"><a href="transform.html#exercises-8"><i class="fa fa-check"></i><b>5.5.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="transform.html"><a href="transform.html#grouped-summaries-or-aggregations-with-agg"><i class="fa fa-check"></i><b>5.6</b> Grouped summaries or aggregations with <code>agg()</code></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="transform.html"><a href="transform.html#combining-multiple-operations"><i class="fa fa-check"></i><b>5.6.1</b> Combining multiple operations</a></li>
<li class="chapter" data-level="5.6.2" data-path="transform.html"><a href="transform.html#missing-values-1"><i class="fa fa-check"></i><b>5.6.2</b> Missing values</a></li>
<li class="chapter" data-level="5.6.3" data-path="transform.html"><a href="transform.html#counts"><i class="fa fa-check"></i><b>5.6.3</b> Counts</a></li>
<li class="chapter" data-level="5.6.4" data-path="transform.html"><a href="transform.html#summarise-funs"><i class="fa fa-check"></i><b>5.6.4</b> Useful summary functions</a></li>
<li class="chapter" data-level="5.6.5" data-path="transform.html"><a href="transform.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>5.6.5</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="5.6.6" data-path="transform.html"><a href="transform.html#ungrouping-reseting-the-index"><i class="fa fa-check"></i><b>5.6.6</b> Ungrouping (reseting the index)</a></li>
<li class="chapter" data-level="5.6.7" data-path="transform.html"><a href="transform.html#exercises-9"><i class="fa fa-check"></i><b>5.6.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="transform.html"><a href="transform.html#grouped-transforms-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped transforms (and filters)</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="transform.html"><a href="transform.html#exercises-10"><i class="fa fa-check"></i><b>5.7.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow: scripts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>6.1</b> Running code</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#prerequisites-3"><i class="fa fa-check"></i><b>7.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualising-distributions"><i class="fa fa-check"></i><b>7.3.1</b> Visualising distributions</a></li>
<li class="chapter" data-level="7.3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#typical-values"><i class="fa fa-check"></i><b>7.3.2</b> Typical values</a></li>
<li class="chapter" data-level="7.3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#unusual-values"><i class="fa fa-check"></i><b>7.3.3</b> Unusual values</a></li>
<li class="chapter" data-level="7.3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-11"><i class="fa fa-check"></i><b>7.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values-2"><i class="fa fa-check"></i><b>7.4</b> Missing values</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-12"><i class="fa fa-check"></i><b>7.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#cat-cont"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>7.6</b> Patterns and models</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#altair-calls"><i class="fa fa-check"></i><b>7.7</b> Altair calls</a></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>7.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a>
<ul>
<li class="chapter" data-level="8.1" data-path="workflow-projects.html"><a href="workflow-projects.html#what-is-real"><i class="fa fa-check"></i><b>8.1</b> What is real?</a></li>
<li class="chapter" data-level="8.2" data-path="workflow-projects.html"><a href="workflow-projects.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>8.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="8.3" data-path="workflow-projects.html"><a href="workflow-projects.html#paths-and-directories"><i class="fa fa-check"></i><b>8.3</b> Paths and directories</a></li>
<li class="chapter" data-level="8.4" data-path="workflow-projects.html"><a href="workflow-projects.html#vs-code-workspaces"><i class="fa fa-check"></i><b>8.4</b> VS Code workspaces</a></li>
<li class="chapter" data-level="8.5" data-path="workflow-projects.html"><a href="workflow-projects.html#summary"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="dataframe.html"><a href="dataframe.html"><i class="fa fa-check"></i><b>10</b> DataFrame</a>
<ul>
<li class="chapter" data-level="10.1" data-path="dataframe.html"><a href="dataframe.html#introduction-4"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="dataframe.html"><a href="dataframe.html#prerequisites-4"><i class="fa fa-check"></i><b>10.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="dataframe.html"><a href="dataframe.html#creating-tibbles"><i class="fa fa-check"></i><b>10.2</b> Creating tibbles</a></li>
<li class="chapter" data-level="10.3" data-path="dataframe.html"><a href="dataframe.html#printing"><i class="fa fa-check"></i><b>10.3</b> Printing</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="dataframe.html"><a href="dataframe.html#subsetting"><i class="fa fa-check"></i><b>10.3.1</b> Subsetting</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="dataframe.html"><a href="dataframe.html#exercises-16"><i class="fa fa-check"></i><b>10.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>11</b> Data import</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-import.html"><a href="data-import.html#introduction-5"><i class="fa fa-check"></i><b>11.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="data-import.html"><a href="data-import.html#prerequisites-5"><i class="fa fa-check"></i><b>11.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>11.2</b> Getting started</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="data-import.html"><a href="data-import.html#exercises-17"><i class="fa fa-check"></i><b>11.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>11.3</b> Parsing a vector</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="data-import.html"><a href="data-import.html#numbers"><i class="fa fa-check"></i><b>11.3.1</b> Numbers</a></li>
<li class="chapter" data-level="11.3.2" data-path="data-import.html"><a href="data-import.html#readr-strings"><i class="fa fa-check"></i><b>11.3.2</b> Strings</a></li>
<li class="chapter" data-level="11.3.3" data-path="data-import.html"><a href="data-import.html#readr-factors"><i class="fa fa-check"></i><b>11.3.3</b> Category (Factors)</a></li>
<li class="chapter" data-level="11.3.4" data-path="data-import.html"><a href="data-import.html#readr-datetimes"><i class="fa fa-check"></i><b>11.3.4</b> Dates and times</a></li>
<li class="chapter" data-level="11.3.5" data-path="data-import.html"><a href="data-import.html#exercises-18"><i class="fa fa-check"></i><b>11.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="data-import.html"><a href="data-import.html#parsing-a-file"><i class="fa fa-check"></i><b>11.4</b> Parsing a file</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="data-import.html"><a href="data-import.html#strategy"><i class="fa fa-check"></i><b>11.4.1</b> Strategy</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="data-import.html"><a href="data-import.html#writing-to-a-file"><i class="fa fa-check"></i><b>11.5</b> Writing to a file</a></li>
<li class="chapter" data-level="11.6" data-path="data-import.html"><a href="data-import.html#other-types-of-data"><i class="fa fa-check"></i><b>11.6</b> Other types of data</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>12</b> Tidy data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="tidy-data.html"><a href="tidy-data.html#introduction-6"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="tidy-data.html"><a href="tidy-data.html#prerequisites-6"><i class="fa fa-check"></i><b>12.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>12.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="tidy-data.html"><a href="tidy-data.html#exercises-19"><i class="fa fa-check"></i><b>12.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="tidy-data.html"><a href="tidy-data.html#pivoting"><i class="fa fa-check"></i><b>12.3</b> Pivoting</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="tidy-data.html"><a href="tidy-data.html#longer-melt"><i class="fa fa-check"></i><b>12.3.1</b> Longer (<code>melt()</code>)</a></li>
<li class="chapter" data-level="12.3.2" data-path="tidy-data.html"><a href="tidy-data.html#wider"><i class="fa fa-check"></i><b>12.3.2</b> Wider</a></li>
<li class="chapter" data-level="12.3.3" data-path="tidy-data.html"><a href="tidy-data.html#exercises-20"><i class="fa fa-check"></i><b>12.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="tidy-data.html"><a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>12.4</b> Separating and uniting</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="tidy-data.html"><a href="tidy-data.html#split-separate"><i class="fa fa-check"></i><b>12.4.1</b> Split (Separate)</a></li>
<li class="chapter" data-level="12.4.2" data-path="tidy-data.html"><a href="tidy-data.html#unite"><i class="fa fa-check"></i><b>12.4.2</b> Unite</a></li>
<li class="chapter" data-level="12.4.3" data-path="tidy-data.html"><a href="tidy-data.html#exercises-21"><i class="fa fa-check"></i><b>12.4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="tidy-data.html"><a href="tidy-data.html#missing-values-3"><i class="fa fa-check"></i><b>12.5</b> Missing values</a></li>
<li class="chapter" data-level="12.6" data-path="tidy-data.html"><a href="tidy-data.html#case-study"><i class="fa fa-check"></i><b>12.6</b> Case Study</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="tidy-data.html"><a href="tidy-data.html#exercises-22"><i class="fa fa-check"></i><b>12.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>12.7</b> Non-tidy data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>13</b> Relational data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="relational-data.html"><a href="relational-data.html#introduction-7"><i class="fa fa-check"></i><b>13.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="relational-data.html"><a href="relational-data.html#prerequisites-7"><i class="fa fa-check"></i><b>13.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="relational-data.html"><a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>13.2</b> nycflights13</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="relational-data.html"><a href="relational-data.html#exercises-23"><i class="fa fa-check"></i><b>13.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>13.3</b> Keys</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="relational-data.html"><a href="relational-data.html#exercises-24"><i class="fa fa-check"></i><b>13.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>13.4</b> Mutating joins</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="relational-data.html"><a href="relational-data.html#understanding-joins"><i class="fa fa-check"></i><b>13.4.1</b> Understanding joins</a></li>
<li class="chapter" data-level="13.4.2" data-path="relational-data.html"><a href="relational-data.html#inner-join"><i class="fa fa-check"></i><b>13.4.2</b> Inner join</a></li>
<li class="chapter" data-level="13.4.3" data-path="relational-data.html"><a href="relational-data.html#outer-join"><i class="fa fa-check"></i><b>13.4.3</b> Outer joins</a></li>
<li class="chapter" data-level="13.4.4" data-path="relational-data.html"><a href="relational-data.html#join-matches"><i class="fa fa-check"></i><b>13.4.4</b> Duplicate keys</a></li>
<li class="chapter" data-level="13.4.5" data-path="relational-data.html"><a href="relational-data.html#join-by"><i class="fa fa-check"></i><b>13.4.5</b> Defining the key columns</a></li>
<li class="chapter" data-level="13.4.6" data-path="relational-data.html"><a href="relational-data.html#exercises-25"><i class="fa fa-check"></i><b>13.4.6</b> Exercises</a></li>
<li class="chapter" data-level="13.4.7" data-path="relational-data.html"><a href="relational-data.html#other-implementations"><i class="fa fa-check"></i><b>13.4.7</b> Other implementations</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>13.5</b> Filtering joins</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="relational-data.html"><a href="relational-data.html#exercises-26"><i class="fa fa-check"></i><b>13.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>13.6</b> Join problems</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> Strings</a>
<ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#introduction-8"><i class="fa fa-check"></i><b>14.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="strings.html"><a href="strings.html#prerequisites-8"><i class="fa fa-check"></i><b>14.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#string-basics"><i class="fa fa-check"></i><b>14.2</b> String basics</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="strings.html"><a href="strings.html#string-length"><i class="fa fa-check"></i><b>14.2.1</b> String length</a></li>
<li class="chapter" data-level="14.2.2" data-path="strings.html"><a href="strings.html#combining-strings"><i class="fa fa-check"></i><b>14.2.2</b> Combining strings</a></li>
<li class="chapter" data-level="14.2.3" data-path="strings.html"><a href="strings.html#subsetting-strings"><i class="fa fa-check"></i><b>14.2.3</b> Subsetting strings</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#matching-patterns-with-regular-expressions"><i class="fa fa-check"></i><b>14.3</b> Matching patterns with regular expressions</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>14.3.1</b> Basic matches</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#anchors"><i class="fa fa-check"></i><b>14.3.2</b> Anchors</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>14.3.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>14.3.4</b> Repetition</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>14.3.5</b> Grouping and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>14.4</b> Tools</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>14.4.1</b> Detect matches</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>14.4.2</b> Extract matches</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#grouped-matches"><i class="fa fa-check"></i><b>14.4.3</b> Grouped matches</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>14.4.4</b> Replacing matches</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.5</b> Splitting</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#find-matches"><i class="fa fa-check"></i><b>14.4.6</b> Find matches</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="strings.html"><a href="strings.html#other-types-of-pattern"><i class="fa fa-check"></i><b>14.5</b> Other types of pattern</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="strings.html"><a href="strings.html#exercises-37"><i class="fa fa-check"></i><b>14.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.6</b> stringi</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>15</b> Factors</a>
<ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#introduction-9"><i class="fa fa-check"></i><b>15.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="factors.html"><a href="factors.html#prerequisites-9"><i class="fa fa-check"></i><b>15.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#creating-categories"><i class="fa fa-check"></i><b>15.2</b> Creating categories</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="factors.html"><a href="factors.html#exercise"><i class="fa fa-check"></i><b>15.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="factors.html"><a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>15.4</b> Modifying factor order</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="factors.html"><a href="factors.html#exercises-38"><i class="fa fa-check"></i><b>15.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="factors.html"><a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>15.5</b> Modifying factor levels</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="factors.html"><a href="factors.html#exercises-39"><i class="fa fa-check"></i><b>15.5.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> Dates and times</a>
<ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-10"><i class="fa fa-check"></i><b>16.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="dates-and-times.html"><a href="dates-and-times.html#prerequisites-10"><i class="fa fa-check"></i><b>16.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.2</b> Creating date/times</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="dates-and-times.html"><a href="dates-and-times.html#from-strings"><i class="fa fa-check"></i><b>16.2.1</b> From strings</a></li>
<li class="chapter" data-level="16.2.2" data-path="dates-and-times.html"><a href="dates-and-times.html#from-individual-components"><i class="fa fa-check"></i><b>16.2.2</b> From individual components</a></li>
<li class="chapter" data-level="16.2.3" data-path="dates-and-times.html"><a href="dates-and-times.html#from-other-types"><i class="fa fa-check"></i><b>16.2.3</b> From other types</a></li>
<li class="chapter" data-level="16.2.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-40"><i class="fa fa-check"></i><b>16.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html"><a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.3</b> Date-time components</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="dates-and-times.html"><a href="dates-and-times.html#getting-components"><i class="fa fa-check"></i><b>16.3.1</b> Getting components</a></li>
<li class="chapter" data-level="16.3.2" data-path="dates-and-times.html"><a href="dates-and-times.html#rounding"><i class="fa fa-check"></i><b>16.3.2</b> Rounding</a></li>
<li class="chapter" data-level="16.3.3" data-path="dates-and-times.html"><a href="dates-and-times.html#setting-components"><i class="fa fa-check"></i><b>16.3.3</b> Setting components</a></li>
<li class="chapter" data-level="16.3.4" data-path="dates-and-times.html"><a href="dates-and-times.html#exercises-41"><i class="fa fa-check"></i><b>16.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html"><a href="dates-and-times.html#time-spans-deltas"><i class="fa fa-check"></i><b>16.4</b> Time spans (Deltas)</a></li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> Time zones</a></li>
</ul></li>
<li class="part"><span><b>III Program</b></span></li>
<li class="chapter" data-level="17" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>17</b> Introduction</a>
<ul>
<li class="chapter" data-level="17.1" data-path="program-intro.html"><a href="program-intro.html#learning-more-1"><i class="fa fa-check"></i><b>17.1</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="pipes-not-included.html"><a href="pipes-not-included.html"><i class="fa fa-check"></i><b>18</b> Pipes (Not included)</a>
<ul>
<li class="chapter" data-level="18.1" data-path="pipes-not-included.html"><a href="pipes-not-included.html#introduction-11"><i class="fa fa-check"></i><b>18.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="functions-tbd.html"><a href="functions-tbd.html"><i class="fa fa-check"></i><b>19</b> Functions (TBD)</a>
<ul>
<li class="chapter" data-level="19.1" data-path="functions-tbd.html"><a href="functions-tbd.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="vectors-tbd.html"><a href="vectors-tbd.html"><i class="fa fa-check"></i><b>20</b> Vectors (TBD)</a>
<ul>
<li class="chapter" data-level="20.1" data-path="vectors-tbd.html"><a href="vectors-tbd.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="iteration-tbd.html"><a href="iteration-tbd.html"><i class="fa fa-check"></i><b>21</b> Iteration (TBD)</a>
<ul>
<li class="chapter" data-level="21.1" data-path="iteration-tbd.html"><a href="iteration-tbd.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
</ul></li>
<li class="part"><span><b>IV Model</b></span></li>
<li class="chapter" data-level="22" data-path="model-intro.html"><a href="model-intro.html"><i class="fa fa-check"></i><b>22</b> Introduction</a>
<ul>
<li class="chapter" data-level="22.1" data-path="model-intro.html"><a href="model-intro.html#hypothesis-generation-vs.-hypothesis-confirmation"><i class="fa fa-check"></i><b>22.1</b> Hypothesis generation vs. hypothesis confirmation</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="model-basics-tbd.html"><a href="model-basics-tbd.html"><i class="fa fa-check"></i><b>23</b> Model basics (TBD)</a>
<ul>
<li class="chapter" data-level="23.1" data-path="model-basics-tbd.html"><a href="model-basics-tbd.html#introduction-15"><i class="fa fa-check"></i><b>23.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="model-building-tbd.html"><a href="model-building-tbd.html"><i class="fa fa-check"></i><b>24</b> Model building (TBD)</a>
<ul>
<li class="chapter" data-level="24.1" data-path="model-building-tbd.html"><a href="model-building-tbd.html#introduction-16"><i class="fa fa-check"></i><b>24.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="many-models-tbd.html"><a href="many-models-tbd.html"><i class="fa fa-check"></i><b>25</b> Many models (TBD)</a>
<ul>
<li class="chapter" data-level="25.1" data-path="many-models-tbd.html"><a href="many-models-tbd.html#introduction-17"><i class="fa fa-check"></i><b>25.1</b> Introduction</a></li>
</ul></li>
<li class="part"><span><b>V Communicate</b></span></li>
<li class="chapter" data-level="26" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>26</b> Introduction</a></li>
<li class="chapter" data-level="27" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>27</b> Markdown</a>
<ul>
<li class="chapter" data-level="27.1" data-path="markdown.html"><a href="markdown.html#introduction-18"><i class="fa fa-check"></i><b>27.1</b> Introduction</a></li>
<li class="chapter" data-level="27.2" data-path="markdown.html"><a href="markdown.html#markdown-basics"><i class="fa fa-check"></i><b>27.2</b> Markdown basics</a></li>
<li class="chapter" data-level="27.3" data-path="markdown.html"><a href="markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>27.3</b> Text formatting with Markdown</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="markdown.html"><a href="markdown.html#exercises-42"><i class="fa fa-check"></i><b>27.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="markdown.html"><a href="markdown.html#code-chunks"><i class="fa fa-check"></i><b>27.4</b> Code chunks</a>
<ul>
<li class="chapter" data-level="27.4.1" data-path="markdown.html"><a href="markdown.html#tables"><i class="fa fa-check"></i><b>27.4.1</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="markdown.html"><a href="markdown.html#learning-more-2"><i class="fa fa-check"></i><b>27.5</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>28</b> Graphics for communication</a>
<ul>
<li class="chapter" data-level="28.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-19"><i class="fa fa-check"></i><b>28.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="28.1.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#prerequisites-11"><i class="fa fa-check"></i><b>28.1.1</b> Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="28.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>28.2</b> Label</a>
<ul>
<li class="chapter" data-level="28.2.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercises-43"><i class="fa fa-check"></i><b>28.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>28.3</b> Annotations</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a>
<ul>
<li class="chapter" data-level="29.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#introduction-20"><i class="fa fa-check"></i><b>29.1</b> Introduction</a></li>
<li class="chapter" data-level="29.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#output-options"><i class="fa fa-check"></i><b>29.2</b> Output options</a></li>
<li class="chapter" data-level="29.3" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#documents"><i class="fa fa-check"></i><b>29.3</b> Documents</a></li>
<li class="chapter" data-level="29.4" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#notebooks"><i class="fa fa-check"></i><b>29.4</b> Notebooks</a></li>
<li class="chapter" data-level="29.5" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#presentations"><i class="fa fa-check"></i><b>29.5</b> Presentations</a></li>
<li class="chapter" data-level="29.6" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#dashboards"><i class="fa fa-check"></i><b>29.6</b> Dashboards</a></li>
<li class="chapter" data-level="29.7" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#interactivity"><i class="fa fa-check"></i><b>29.7</b> Interactivity</a>
<ul>
<li class="chapter" data-level="29.7.1" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#htmlwidgets"><i class="fa fa-check"></i><b>29.7.1</b> htmlwidgets</a></li>
<li class="chapter" data-level="29.7.2" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#shiny"><i class="fa fa-check"></i><b>29.7.2</b> Shiny</a></li>
</ul></li>
<li class="chapter" data-level="29.8" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#websites"><i class="fa fa-check"></i><b>29.8</b> Websites</a></li>
<li class="chapter" data-level="29.9" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#other-formats"><i class="fa fa-check"></i><b>29.9</b> Other formats</a></li>
<li class="chapter" data-level="29.10" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html#learning-more-3"><i class="fa fa-check"></i><b>29.10</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="r-markdown-workflow-and-jupyter.html"><a href="r-markdown-workflow-and-jupyter.html"><i class="fa fa-check"></i><b>30</b> R Markdown workflow (and Jupyter)</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="factors" class="section level1" number="15">
<h1><span class="header-section-number">15</span> Factors</h1>
<div id="introduction-9" class="section level2" number="15.1">
<h2><span class="header-section-number">15.1</span> Introduction</h2>
<p>In pandas, categorical variables (factors in R) are variables that have a fixed and known set of possible values. They are also useful when you want to display character vectors in a non-alphabetical order. You can read the <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html">pandas documentation</a>.</p>
<div id="prerequisites-9" class="section level3" number="15.1.1">
<h3><span class="header-section-number">15.1.1</span> Prerequisites</h3>
<p>To work with categorical variables, we’ll use the <strong>category</strong> data type in pandas. It supports tools for dealing with categorical variables using a wide range of helper methods.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb275-1"><a href="factors.html#cb275-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb275-2"><a href="factors.html#cb275-2"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb275-3"><a href="factors.html#cb275-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb275-4"><a href="factors.html#cb275-4"></a>alt.data_transformers.enable(<span class="st">&#39;json&#39;</span>)</span>
<span id="cb275-5"><a href="factors.html#cb275-5"></a><span class="co">#&gt; DataTransformerRegistry.enable(&#39;json&#39;)</span></span></code></pre></div>
</div>
</div>
<div id="creating-categories" class="section level2" number="15.2">
<h2><span class="header-section-number">15.2</span> Creating categories</h2>
<p>Imagine that you have a variable that records month:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb276-1"><a href="factors.html#cb276-1"></a>x1 <span class="op">=</span> pd.Series([<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Mar&quot;</span>])</span></code></pre></div>
<p>Using a string to record this variable has two problems:</p>
<ol style="list-style-type: decimal">
<li><p>There are only twelve possible months, and there’s nothing saving you
from typos:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb277-1"><a href="factors.html#cb277-1"></a>x2 <span class="op">=</span> pd.Series([<span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jam&quot;</span>, <span class="st">&quot;Mar&quot;</span>])</span></code></pre></div></li>
<li><p>It doesn’t sort in a useful way:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb278-1"><a href="factors.html#cb278-1"></a>x1.sort_values()</span>
<span id="cb278-2"><a href="factors.html#cb278-2"></a><span class="co">#&gt; 1    Apr</span></span>
<span id="cb278-3"><a href="factors.html#cb278-3"></a><span class="co">#&gt; 0    Dec</span></span>
<span id="cb278-4"><a href="factors.html#cb278-4"></a><span class="co">#&gt; 2    Jan</span></span>
<span id="cb278-5"><a href="factors.html#cb278-5"></a><span class="co">#&gt; 3    Mar</span></span>
<span id="cb278-6"><a href="factors.html#cb278-6"></a><span class="co">#&gt; dtype: object</span></span></code></pre></div></li>
</ol>
<p>You can fix both of these problems with a factor. To create a factor you must start by creating a list of the valid <strong>levels</strong>:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb279-1"><a href="factors.html#cb279-1"></a>month_levels <span class="op">=</span> pd.Series([</span>
<span id="cb279-2"><a href="factors.html#cb279-2"></a>  <span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>, </span>
<span id="cb279-3"><a href="factors.html#cb279-3"></a>  <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span></span>
<span id="cb279-4"><a href="factors.html#cb279-4"></a>])</span></code></pre></div>
<p>Now you can create a factor:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb280-1"><a href="factors.html#cb280-1"></a>y1 <span class="op">=</span> pd.Categorical(x1, categories<span class="op">=</span>month_levels)</span>
<span id="cb280-2"><a href="factors.html#cb280-2"></a>y1</span>
<span id="cb280-3"><a href="factors.html#cb280-3"></a><span class="co">#&gt; [Dec, Apr, Jan, Mar]</span></span>
<span id="cb280-4"><a href="factors.html#cb280-4"></a><span class="co">#&gt; Categories (12, object): [Jan, Feb, Mar, Apr, ..., Sep, Oct, Nov, Dec]</span></span>
<span id="cb280-5"><a href="factors.html#cb280-5"></a>y1.sort_values()</span>
<span id="cb280-6"><a href="factors.html#cb280-6"></a><span class="co">#&gt; [Jan, Mar, Apr, Dec]</span></span>
<span id="cb280-7"><a href="factors.html#cb280-7"></a><span class="co">#&gt; Categories (12, object): [Jan, Feb, Mar, Apr, ..., Sep, Oct, Nov, Dec]</span></span></code></pre></div>
<p>And any values not in the set will be silently converted to <code>nan</code>:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb281-1"><a href="factors.html#cb281-1"></a>y2 <span class="op">=</span> pd.Categorical(x2, categories<span class="op">=</span>month_levels)</span>
<span id="cb281-2"><a href="factors.html#cb281-2"></a>y2</span>
<span id="cb281-3"><a href="factors.html#cb281-3"></a><span class="co">#&gt; [Dec, Apr, NaN, Mar]</span></span>
<span id="cb281-4"><a href="factors.html#cb281-4"></a><span class="co">#&gt; Categories (12, object): [Jan, Feb, Mar, Apr, ..., Sep, Oct, Nov, Dec]</span></span></code></pre></div>
<p>Sometimes you’d prefer that the order of the levels match the order of the first appearance in the data. You can do that when creating the factor by setting levels to <code>pd.unique(x)</code>:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb282-1"><a href="factors.html#cb282-1"></a>f1 <span class="op">=</span> pd.Categorical(x1, categories<span class="op">=</span>pd.unique(x1))</span>
<span id="cb282-2"><a href="factors.html#cb282-2"></a>f1</span>
<span id="cb282-3"><a href="factors.html#cb282-3"></a><span class="co">#&gt; [Dec, Apr, Jan, Mar]</span></span>
<span id="cb282-4"><a href="factors.html#cb282-4"></a><span class="co">#&gt; Categories (4, object): [Dec, Apr, Jan, Mar]</span></span></code></pre></div>
<p>If you ever need to access the set of valid levels directly, you can do so with <code>levels()</code>:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb283-1"><a href="factors.html#cb283-1"></a>pd.Series(f1).cat.categories</span>
<span id="cb283-2"><a href="factors.html#cb283-2"></a><span class="co">#&gt; Index([&#39;Dec&#39;, &#39;Apr&#39;, &#39;Jan&#39;, &#39;Mar&#39;], dtype=&#39;object&#39;)</span></span></code></pre></div>
</div>
<div id="general-social-survey" class="section level2" number="15.3">
<h2><span class="header-section-number">15.3</span> General Social Survey</h2>
<p>For the rest of this chapter, we’re going to focus on <code>gss_cat</code> data found in the <code>forcats</code> R package. It’s a sample of data from the <a href="http://gss.norc.org">General Social Survey</a>, which is a long-running US survey conducted by the independent research organization NORC at the University of Chicago. The survey has thousands of questions, so in <code>gss_cat</code> I’ve selected a handful that will illustrate some common challenges you’ll encounter when working with factors.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb284-1"><a href="factors.html#cb284-1"></a>gss_cat <span class="op">=</span> pd.read_csv(<span class="st">&quot;https://github.com/byuidatascience/data4python4ds/raw/master/data-raw/gss_cat/gss_cat.csv&quot;</span>)</span>
<span id="cb284-2"><a href="factors.html#cb284-2"></a></span>
<span id="cb284-3"><a href="factors.html#cb284-3"></a>marital_levels <span class="op">=</span> [<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Never married&quot;</span>, <span class="st">&quot;Separated&quot;</span>, <span class="st">&quot;Divorced&quot;</span>, <span class="st">&quot;Widowed&quot;</span>, <span class="st">&quot;Married&quot;</span>]</span>
<span id="cb284-4"><a href="factors.html#cb284-4"></a></span>
<span id="cb284-5"><a href="factors.html#cb284-5"></a>race_levels <span class="op">=</span> [<span class="st">&quot;Other&quot;</span>, <span class="st">&quot;Black&quot;</span>, <span class="st">&quot;White&quot;</span>, <span class="st">&quot;Not applicable&quot;</span>]</span>
<span id="cb284-6"><a href="factors.html#cb284-6"></a></span>
<span id="cb284-7"><a href="factors.html#cb284-7"></a>income_levels <span class="op">=</span> [<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;Refused&quot;</span>, <span class="st">&quot;$25000 or more&quot;</span>, <span class="st">&quot;$20000 - 24999&quot;</span>, </span>
<span id="cb284-8"><a href="factors.html#cb284-8"></a><span class="st">&quot;$15000 - 19999&quot;</span>, <span class="st">&quot;$10000 - 14999&quot;</span>, <span class="st">&quot;$8000 to 9999&quot;</span>, <span class="st">&quot;$7000 to 7999&quot;</span>, <span class="st">&quot;$6000 to 6999&quot;</span>, </span>
<span id="cb284-9"><a href="factors.html#cb284-9"></a><span class="st">&quot;$5000 to 5999&quot;</span>, <span class="st">&quot;$4000 to 4999&quot;</span>, <span class="st">&quot;$3000 to 3999&quot;</span>, <span class="st">&quot;$1000 to 2999&quot;</span>, <span class="st">&quot;Lt $1000&quot;</span>, <span class="st">&quot;Not applicable&quot;</span>]</span>
<span id="cb284-10"><a href="factors.html#cb284-10"></a></span>
<span id="cb284-11"><a href="factors.html#cb284-11"></a>party_levels <span class="op">=</span> [<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;Other party&quot;</span>, <span class="st">&quot;Strong republican&quot;</span>, <span class="st">&quot;Not str republican&quot;</span>, </span>
<span id="cb284-12"><a href="factors.html#cb284-12"></a><span class="st">&quot;Ind,near rep&quot;</span>, <span class="st">&quot;Independent&quot;</span>, <span class="st">&quot;Ind,near dem&quot;</span>, <span class="st">&quot;Not str democrat&quot;</span>, <span class="st">&quot;Strong democrat&quot;</span>]</span>
<span id="cb284-13"><a href="factors.html#cb284-13"></a></span>
<span id="cb284-14"><a href="factors.html#cb284-14"></a>religion_levels <span class="op">=</span> [<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;Inter-nondenominational&quot;</span>, <span class="st">&quot;Native american&quot;</span>, <span class="st">&quot;Christian&quot;</span>, </span>
<span id="cb284-15"><a href="factors.html#cb284-15"></a><span class="st">&quot;Orthodox-christian&quot;</span>, <span class="st">&quot;Moslem/islam&quot;</span>, <span class="st">&quot;Other eastern&quot;</span>, <span class="st">&quot;Hinduism&quot;</span>, <span class="st">&quot;Buddhism&quot;</span>, <span class="st">&quot;Other&quot;</span>, <span class="st">&quot;None&quot;</span>, <span class="st">&quot;Jewish&quot;</span>, </span>
<span id="cb284-16"><a href="factors.html#cb284-16"></a><span class="st">&quot;Catholic&quot;</span>, <span class="st">&quot;Protestant&quot;</span>, <span class="st">&quot;Not applicable&quot;</span>]</span>
<span id="cb284-17"><a href="factors.html#cb284-17"></a></span>
<span id="cb284-18"><a href="factors.html#cb284-18"></a>denom_levels <span class="op">=</span> [<span class="st">&quot;No answer&quot;</span>, <span class="st">&quot;Don&#39;t know&quot;</span>, <span class="st">&quot;No denomination&quot;</span>, <span class="st">&quot;Other&quot;</span>, <span class="st">&quot;Episcopal&quot;</span>, <span class="st">&quot;Presbyterian-dk wh&quot;</span>, </span>
<span id="cb284-19"><a href="factors.html#cb284-19"></a><span class="st">&quot;Presbyterian, merged&quot;</span>, <span class="st">&quot;Other presbyterian&quot;</span>, <span class="st">&quot;United pres ch in us&quot;</span>, <span class="st">&quot;Presbyterian c in us&quot;</span>, </span>
<span id="cb284-20"><a href="factors.html#cb284-20"></a><span class="st">&quot;Lutheran-dk which&quot;</span>, <span class="st">&quot;Evangelical luth&quot;</span>, <span class="st">&quot;Other lutheran&quot;</span>, <span class="st">&quot;Wi evan luth synod&quot;</span>, <span class="st">&quot;Lutheran-mo synod&quot;</span>, </span>
<span id="cb284-21"><a href="factors.html#cb284-21"></a><span class="st">&quot;Luth ch in america&quot;</span>, <span class="st">&quot;Am lutheran&quot;</span>, <span class="st">&quot;Methodist-dk which&quot;</span>, <span class="st">&quot;Other methodist&quot;</span>, <span class="st">&quot;United methodist&quot;</span>, </span>
<span id="cb284-22"><a href="factors.html#cb284-22"></a><span class="st">&quot;Afr meth ep zion&quot;</span>, <span class="st">&quot;Afr meth episcopal&quot;</span>, <span class="st">&quot;Baptist-dk which&quot;</span>, <span class="st">&quot;Other baptists&quot;</span>, <span class="st">&quot;Southern baptist&quot;</span>, </span>
<span id="cb284-23"><a href="factors.html#cb284-23"></a><span class="st">&quot;Nat bapt conv usa&quot;</span>, <span class="st">&quot;Nat bapt conv of am&quot;</span>, <span class="st">&quot;Am bapt ch in usa&quot;</span>, <span class="st">&quot;Am baptist asso&quot;</span>, <span class="st">&quot;Not applicable&quot;</span>]</span>
<span id="cb284-24"><a href="factors.html#cb284-24"></a></span>
<span id="cb284-25"><a href="factors.html#cb284-25"></a>gss_cat <span class="op">=</span> gss_cat.assign(</span>
<span id="cb284-26"><a href="factors.html#cb284-26"></a>    marital <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.marital, categories<span class="op">=</span>marital_levels),</span>
<span id="cb284-27"><a href="factors.html#cb284-27"></a>    race <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.race, categories<span class="op">=</span>race_levels),</span>
<span id="cb284-28"><a href="factors.html#cb284-28"></a>    rincome <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.rincome, categories<span class="op">=</span>income_levels),</span>
<span id="cb284-29"><a href="factors.html#cb284-29"></a>    partyid <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.partyid, categories<span class="op">=</span>party_levels),</span>
<span id="cb284-30"><a href="factors.html#cb284-30"></a>    relig <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.relig, categories<span class="op">=</span>religion_levels),</span>
<span id="cb284-31"><a href="factors.html#cb284-31"></a>    denom <span class="op">=</span> <span class="kw">lambda</span> x: pd.Categorical(x.denom, categories<span class="op">=</span>denom_levels),</span>
<span id="cb284-32"><a href="factors.html#cb284-32"></a></span>
<span id="cb284-33"><a href="factors.html#cb284-33"></a>)</span></code></pre></div>
<p>(You can get more information about the variables using the <a href="https://github.com/byuidatascience/data4python4ds/blob/master/data.md#a-sample-of-categorical-variables-from-the-general-social-survey">data description sheet in data4python4ds</a>.)</p>
<p>When factors are stored in a tibble, you can’t see their levels so easily. One way to see them is with <code>value_counts()</code> or you can get a high level summary with <code>describe()</code>:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb285-1"><a href="factors.html#cb285-1"></a>gss_cat.race.value_counts()</span>
<span id="cb285-2"><a href="factors.html#cb285-2"></a><span class="co">#&gt; White             16395</span></span>
<span id="cb285-3"><a href="factors.html#cb285-3"></a><span class="co">#&gt; Black              3129</span></span>
<span id="cb285-4"><a href="factors.html#cb285-4"></a><span class="co">#&gt; Other              1959</span></span>
<span id="cb285-5"><a href="factors.html#cb285-5"></a><span class="co">#&gt; Not applicable        0</span></span>
<span id="cb285-6"><a href="factors.html#cb285-6"></a><span class="co">#&gt; Name: race, dtype: int64</span></span>
<span id="cb285-7"><a href="factors.html#cb285-7"></a>gss_cat.race.describe()</span>
<span id="cb285-8"><a href="factors.html#cb285-8"></a><span class="co">#&gt; count     21483</span></span>
<span id="cb285-9"><a href="factors.html#cb285-9"></a><span class="co">#&gt; unique        3</span></span>
<span id="cb285-10"><a href="factors.html#cb285-10"></a><span class="co">#&gt; top       White</span></span>
<span id="cb285-11"><a href="factors.html#cb285-11"></a><span class="co">#&gt; freq      16395</span></span>
<span id="cb285-12"><a href="factors.html#cb285-12"></a><span class="co">#&gt; Name: race, dtype: object</span></span></code></pre></div>
<p>Or with a bar chart:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb286-1"><a href="factors.html#cb286-1"></a>chart <span class="op">=</span> (alt.Chart(gss_cat).</span>
<span id="cb286-2"><a href="factors.html#cb286-2"></a>  encode(alt.X(<span class="st">&#39;race&#39;</span>), alt.Y(<span class="st">&#39;count()&#39;</span>)).</span>
<span id="cb286-3"><a href="factors.html#cb286-3"></a>  mark_bar().</span>
<span id="cb286-4"><a href="factors.html#cb286-4"></a>  properties(width <span class="op">=</span> <span class="dv">400</span>))</span>
<span id="cb286-5"><a href="factors.html#cb286-5"></a></span>
<span id="cb286-6"><a href="factors.html#cb286-6"></a>chart.save(<span class="st">&quot;screenshots/altair_cat_1.png&quot;</span>)</span></code></pre></div>
<p><img src="screenshots/altair_cat_1.png" width="70%" style="display: block; margin: auto auto auto 0;" /></p>
<p>By default, ggplot2 will drop levels that don’t have any values. You can force them to display with:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb287-1"><a href="factors.html#cb287-1"></a>levels_use <span class="op">=</span> gss_cat.race.cat.categories.to_list()</span>
<span id="cb287-2"><a href="factors.html#cb287-2"></a></span>
<span id="cb287-3"><a href="factors.html#cb287-3"></a>chart <span class="op">=</span> (alt.Chart(gss_cat).</span>
<span id="cb287-4"><a href="factors.html#cb287-4"></a>    encode( </span>
<span id="cb287-5"><a href="factors.html#cb287-5"></a>        x <span class="op">=</span> alt.X(<span class="st">&#39;race&#39;</span>, scale <span class="op">=</span> alt.Scale(domain <span class="op">=</span> levels_use)), </span>
<span id="cb287-6"><a href="factors.html#cb287-6"></a>        y <span class="op">=</span> alt.Y(<span class="st">&#39;count()&#39;</span>)).</span>
<span id="cb287-7"><a href="factors.html#cb287-7"></a>    mark_bar().</span>
<span id="cb287-8"><a href="factors.html#cb287-8"></a>    properties(width <span class="op">=</span> <span class="dv">400</span>))</span>
<span id="cb287-9"><a href="factors.html#cb287-9"></a></span>
<span id="cb287-10"><a href="factors.html#cb287-10"></a>chart.save(<span class="st">&quot;screenshots/altair_cat_2.png&quot;</span>)</span></code></pre></div>
<p><img src="screenshots/altair_cat_2.png" width="70%" style="display: block; margin: auto auto auto 0;" /></p>
<p>These levels represent valid values that simply did not occur in this dataset. When working with factors, the two most common operations are changing the order of the levels, and changing the values of the levels. Those operations are described in the sections below.</p>
<div id="exercise" class="section level3" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> Exercise</h3>
<ol style="list-style-type: decimal">
<li><p>Explore the distribution of <code>rincome</code> (reported income). What makes the
default bar chart hard to understand? How could you improve the plot?</p></li>
<li><p>What is the most common <code>relig</code> in this survey? What’s the most
common <code>partyid</code>?</p></li>
<li><p>Which <code>relig</code> does <code>denom</code> (denomination) apply to? How can you find
out with a table? How can you find out with a visualisation?</p></li>
</ol>
</div>
</div>
<div id="modifying-factor-order" class="section level2" number="15.4">
<h2><span class="header-section-number">15.4</span> Modifying factor order</h2>
<p>It’s often useful to change the order of the factor levels in a visualisation. For example, imagine you want to explore the average number of hours spent watching TV per day across religions:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb288-1"><a href="factors.html#cb288-1"></a>relig_summary <span class="op">=</span> gss_cat.groupby(<span class="st">&#39;relig&#39;</span>).agg(</span>
<span id="cb288-2"><a href="factors.html#cb288-2"></a>    age <span class="op">=</span> (<span class="st">&#39;age&#39;</span>, np.mean),</span>
<span id="cb288-3"><a href="factors.html#cb288-3"></a>    tvhours <span class="op">=</span> (<span class="st">&#39;tvhours&#39;</span>, np.mean),</span>
<span id="cb288-4"><a href="factors.html#cb288-4"></a>    n <span class="op">=</span> (<span class="st">&#39;tvhours&#39;</span>, <span class="st">&#39;size&#39;</span>)</span>
<span id="cb288-5"><a href="factors.html#cb288-5"></a>).reset_index()</span>
<span id="cb288-6"><a href="factors.html#cb288-6"></a></span>
<span id="cb288-7"><a href="factors.html#cb288-7"></a>chart <span class="op">=</span> (alt.Chart(relig_summary).</span>
<span id="cb288-8"><a href="factors.html#cb288-8"></a>          encode(alt.X(<span class="st">&#39;tvhours&#39;</span>), alt.Y(<span class="st">&#39;relig&#39;</span>)).</span>
<span id="cb288-9"><a href="factors.html#cb288-9"></a>          mark_circle())</span>
<span id="cb288-10"><a href="factors.html#cb288-10"></a></span>
<span id="cb288-11"><a href="factors.html#cb288-11"></a>chart.save(<span class="st">&quot;screenshots/altair_cat_3.png&quot;</span>)</span></code></pre></div>
<p><img src="screenshots/altair_cat_3.png" width="70%" style="display: block; margin: auto auto auto 0;" /></p>
<p>It is difficult to interpret this plot because there’s no overall pattern. We can improve it by reordering the levels of <code>relig</code> using the <code>sort</code> argument in <code>alt.Y()</code>. The <code>sort</code> argument uses <code>-x</code> to sort largest at the top and <code>x</code> to sort with the largest at the bottom of the y-axis. If you would like to implement more intricate sortings using <code>alt.EncodingSortField()</code> with the following arguments.</p>
<ul>
<li><code>field</code>, the column to use for the sorting.</li>
<li><code>op</code>, the function you would like to use for the sort.</li>
<li>Optionally, <code>order</code>, allows you to take the values from the <code>op</code> argument
function and sort them as <code>'descending'</code> or <code>'ascending'</code>.</li>
</ul>
<p>Thus, if we were going to implement more detailed sorting we would use
<code>alt.EncodingSortField(field = 'tvhours', op = 'sum', order = 'ascending'))</code>. Note that sorting within Altair for boxplots is not very functional. You would need to use <code>pd.Categorical()</code> to put the categories in your prefered order.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb289-1"><a href="factors.html#cb289-1"></a>chart <span class="op">=</span> (alt.Chart(relig_summary).</span>
<span id="cb289-2"><a href="factors.html#cb289-2"></a>  encode(alt.X(<span class="st">&#39;tvhours&#39;</span>), alt.Y(<span class="st">&#39;relig&#39;</span>)).</span>
<span id="cb289-3"><a href="factors.html#cb289-3"></a>  mark_circle())</span>
<span id="cb289-4"><a href="factors.html#cb289-4"></a></span>
<span id="cb289-5"><a href="factors.html#cb289-5"></a></span>
<span id="cb289-6"><a href="factors.html#cb289-6"></a>chart.save(<span class="st">&quot;screenshots/altair_cat_4.png&quot;</span>)</span></code></pre></div>
<p><img src="screenshots/altair_cat_4.png" width="70%" style="display: block; margin: auto auto auto 0;" /></p>
<p>Reordering religion makes it much easier to see that people in the “Don’t know” category watch much more TV, and Hinduism &amp; Other Eastern religions watch much less.</p>
<p>As you start making more complicated transformations, I’d recommend moving them out of Altair and into a new variable using pandas.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb290-1"><a href="factors.html#cb290-1"></a>chart <span class="op">=</span> (alt.Chart(relig_summary).</span>
<span id="cb290-2"><a href="factors.html#cb290-2"></a>    encode(alt.X(<span class="st">&#39;tvhours&#39;</span>), alt.Y(<span class="st">&#39;relig&#39;</span>, sort <span class="op">=</span> <span class="st">&#39;-x&#39;</span>)).</span>
<span id="cb290-3"><a href="factors.html#cb290-3"></a>    mark_circle())</span></code></pre></div>
<p>As you start making more complicated transformations, I’d recommend moving them out of Altair and into a new variable using pandas. What if we create a similar plot looking at how average age varies across reported income level?</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb291-1"><a href="factors.html#cb291-1"></a>rincome_summary <span class="op">=</span> gss_cat.groupby(<span class="st">&#39;rincome&#39;</span>).agg(</span>
<span id="cb291-2"><a href="factors.html#cb291-2"></a>    age <span class="op">=</span> (<span class="st">&#39;age&#39;</span>, np.mean),</span>
<span id="cb291-3"><a href="factors.html#cb291-3"></a>        tvhours <span class="op">=</span> (<span class="st">&#39;tvhours&#39;</span>, np.mean),</span>
<span id="cb291-4"><a href="factors.html#cb291-4"></a>    n <span class="op">=</span> (<span class="st">&#39;tvhours&#39;</span>, <span class="st">&#39;size&#39;</span>)</span>
<span id="cb291-5"><a href="factors.html#cb291-5"></a>).reset_index()</span>
<span id="cb291-6"><a href="factors.html#cb291-6"></a></span>
<span id="cb291-7"><a href="factors.html#cb291-7"></a>chart <span class="op">=</span> (alt.Chart(rincome_summary).</span>
<span id="cb291-8"><a href="factors.html#cb291-8"></a>          encode(alt.X(<span class="st">&#39;age&#39;</span>), alt.Y(<span class="st">&#39;rincome&#39;</span>, sort <span class="op">=</span> <span class="st">&#39;-x&#39;</span>)).</span>
<span id="cb291-9"><a href="factors.html#cb291-9"></a>          mark_circle())</span>
<span id="cb291-10"><a href="factors.html#cb291-10"></a></span>
<span id="cb291-11"><a href="factors.html#cb291-11"></a></span>
<span id="cb291-12"><a href="factors.html#cb291-12"></a>chart.save(<span class="st">&quot;screenshots/altair_cat_5.png&quot;</span>)</span></code></pre></div>
<p><img src="screenshots/altair_cat_5.png" width="70%" style="display: block; margin: auto auto auto 0;" /></p>
<p>Here, arbitrarily reordering the levels isn’t a good idea! That’s because <code>rincome</code> already has a principled order that we shouldn’t mess with. Reserve sorting for factors whose levels are arbitrarily ordered.</p>
<p>Why do you think the average age for “Not applicable” is so high?</p>
<div id="exercises-38" class="section level3" number="15.4.1">
<h3><span class="header-section-number">15.4.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>There are some suspiciously high numbers in <code>tvhours</code>. Is the mean a good
summary?</p></li>
<li><p>For each factor in <code>gss_cat</code> identify whether the order of the levels is
arbitrary or principled.</p></li>
</ol>
</div>
</div>
<div id="modifying-factor-levels" class="section level2" number="15.5">
<h2><span class="header-section-number">15.5</span> Modifying factor levels</h2>
<p>The pandas categorical methods for editing the categories are done using three primary methods:</p>
<ul>
<li><code>rename_categories()</code>: simply pass a list of the new names.</li>
<li><code>add_categories()</code>: new list names are appended.</li>
<li><code>remove_categories()</code>: Values which are removed are replaced with <code>np.nan</code>.</li>
<li><code>remove_unused_categories()</code>: Drops categories with no values.</li>
</ul>
<p>You can read more about categories within pandas with the <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html#categorical-data">categorical data documentation</a>.</p>
<div id="exercises-39" class="section level3" number="15.5.1">
<h3><span class="header-section-number">15.5.1</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li><p>How have the proportions of people identifying as Democrat, Republican, and
Independent changed over time?</p></li>
<li><p>How could you collapse <code>rincome</code> into a small set of categories?</p></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="strings.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dates-and-times.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/byuidatascience/python4ds/edit/master/factors.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
